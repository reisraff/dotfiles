# unbind first
unbind -T copy-mode-vi C-b
unbind -T copy-mode-vi C-c
unbind -T copy-mode-vi C-d
unbind -T copy-mode-vi C-e
unbind -T copy-mode-vi C-f
unbind -T copy-mode-vi C-h
unbind -T copy-mode-vi C-j
unbind -T copy-mode-vi Enter
unbind -T copy-mode-vi C-u
unbind -T copy-mode-vi C-v
unbind -T copy-mode-vi C-y
unbind -T copy-mode-vi Space
unbind -T copy-mode-vi \#
unbind -T copy-mode-vi \$
unbind -T copy-mode-vi O
unbind -T copy-mode-vi ?
unbind -T copy-mode-vi %
unbind -T copy-mode-vi *
unbind -T copy-mode-vi ,
unbind -T copy-mode-vi 1
unbind -T copy-mode-vi 2
unbind -T copy-mode-vi 3
unbind -T copy-mode-vi 4
unbind -T copy-mode-vi 5
unbind -T copy-mode-vi 6
unbind -T copy-mode-vi 7
unbind -T copy-mode-vi 8
unbind -T copy-mode-vi 9
unbind -T copy-mode-vi :
unbind -T copy-mode-vi \;
unbind -T copy-mode-vi A
unbind -T copy-mode-vi B
unbind -T copy-mode-vi D
unbind -T copy-mode-vi E
unbind -T copy-mode-vi F
unbind -T copy-mode-vi G
unbind -T copy-mode-vi H
unbind -T copy-mode-vi J
unbind -T copy-mode-vi K
unbind -T copy-mode-vi L
unbind -T copy-mode-vi M
unbind -T copy-mode-vi N
unbind -T copy-mode-vi T
unbind -T copy-mode-vi V
unbind -T copy-mode-vi W
unbind -T copy-mode-vi ^
unbind -T copy-mode-vi b
unbind -T copy-mode-vi e
unbind -T copy-mode-vi f
unbind -T copy-mode-vi g
unbind -T copy-mode-vi h
unbind -T copy-mode-vi j
unbind -T copy-mode-vi k
unbind -T copy-mode-vi l
unbind -T copy-mode-vi o
unbind -T copy-mode-vi q
unbind -T copy-mode-vi r
unbind -T copy-mode-vi t
unbind -T copy-mode-vi w
unbind -T copy-mode-vi \{
unbind -T copy-mode-vi \}
unbind -T copy-mode-vi MouseDown1Pane
unbind -T copy-mode-vi MouseDrag1Pane
unbind -T copy-mode-vi MouseDragEnd1Pane
unbind -T copy-mode-vi WheelUpPane
unbind -T copy-mode-vi WheelDownPane
unbind -T copy-mode-vi DoubleClick1Pane
unbind -T copy-mode-vi TripleClick1Pane
unbind -T copy-mode-vi BSpace
unbind -T copy-mode-vi C-Up
unbind -T copy-mode-vi C-Down
unbind -T copy-mode C-Space
unbind -T copy-mode C-a
unbind -T copy-mode C-b
unbind -T copy-mode C-c
unbind -T copy-mode C-e
unbind -T copy-mode C-f
unbind -T copy-mode C-g
unbind -T copy-mode C-k
unbind -T copy-mode C-n
unbind -T copy-mode C-p
unbind -T copy-mode C-r
unbind -T copy-mode C-s
unbind -T copy-mode C-v
unbind -T copy-mode C-w
unbind -T copy-mode Escape
unbind -T copy-mode Space
unbind -T copy-mode ,
unbind -T copy-mode \;
unbind -T copy-mode F
unbind -T copy-mode N
unbind -T copy-mode R
unbind -T copy-mode T
unbind -T copy-mode f
unbind -T copy-mode g
unbind -T copy-mode n
unbind -T copy-mode q
unbind -T copy-mode r
unbind -T copy-mode t
unbind -T copy-mode v
unbind -T copy-mode y
unbind -T copy-mode MouseDown1Pane
unbind -T copy-mode MouseDrag1Pane
unbind -T copy-mode MouseDragEnd1Pane
unbind -T copy-mode WheelUpPane
unbind -T copy-mode WheelDownPane
unbind -T copy-mode DoubleClick1Pane
unbind -T copy-mode TripleClick1Pane
unbind -T copy-mode Home
unbind -T copy-mode End
unbind -T copy-mode NPage
unbind -T copy-mode PPage
unbind -T copy-mode Up
unbind -T copy-mode Down
unbind -T copy-mode Left
unbind -T copy-mode Right
unbind -T copy-mode M-C-b
unbind -T copy-mode M-C-f
unbind -T copy-mode M-1
unbind -T copy-mode M-2
unbind -T copy-mode M-3
unbind -T copy-mode M-4
unbind -T copy-mode M-5
unbind -T copy-mode M-6
unbind -T copy-mode M-7
unbind -T copy-mode M-8
unbind -T copy-mode M-9
unbind -T copy-mode M-<
unbind -T copy-mode M->
unbind -T copy-mode M-R
unbind -T copy-mode M-b
unbind -T copy-mode M-f
unbind -T copy-mode M-m
unbind -T copy-mode M-r
unbind -T copy-mode M-v
unbind -T copy-mode M-w
unbind -T copy-mode "M-{"
unbind -T copy-mode "M-}"
unbind -T copy-mode M-Up
unbind -T copy-mode M-Down
unbind -T copy-mode C-Up
unbind -T copy-mode C-Down
unbind -T prefix C-z
unbind -T prefix ]
unbind -T prefix [
unbind -T prefix '"'
unbind -T prefix %
unbind -T prefix C-b
unbind -T prefix M-Down
unbind -T prefix M-Up
unbind -T prefix M-Left
unbind -T prefix M-Right
unbind -T prefix z
unbind -T prefix c
unbind -T prefix n
unbind -T prefix p
unbind -T prefix C-o
unbind -T prefix !
unbind -T prefix \#
unbind -T prefix \$
unbind -T prefix &
unbind -T prefix \'
unbind -T prefix (
unbind -T prefix )
unbind -T prefix -
unbind -T prefix .
unbind -T prefix /
unbind -T prefix 0
unbind -T prefix 1
unbind -T prefix 2
unbind -T prefix 3
unbind -T prefix 4
unbind -T prefix 5
unbind -T prefix 6
unbind -T prefix 7
unbind -T prefix 8
unbind -T prefix 9
unbind -T prefix \;
unbind -T prefix <
unbind -T prefix =
unbind -T prefix >
unbind -T prefix ?
unbind -T prefix D
unbind -T prefix E
unbind -T prefix L
unbind -T prefix M
unbind -T prefix P
unbind -T prefix f
unbind -T prefix i
unbind -T prefix l
unbind -T prefix m
unbind -T prefix o
unbind -T prefix q
unbind -T prefix s
unbind -T prefix t
unbind -T prefix w
unbind -T prefix x
unbind -T prefix \{
unbind -T prefix \}
unbind -T prefix \~
unbind -T prefix DC
unbind -T prefix PPage
unbind -T prefix M-1
unbind -T prefix M-2
unbind -T prefix M-3
unbind -T prefix M-4
unbind -T prefix M-5
unbind -T prefix M-n
unbind -T prefix M-o
unbind -T prefix M-p
unbind -T prefix S-Up
unbind -T prefix S-Down
unbind -T prefix S-Left
unbind -T prefix S-Right

# source theme
source .tmux.theme

# reload the ~/.tmux.conf
bind r source-file ~/.tmux.conf \; display "~/.tmux.conf reloaded!"

# set history limit
set-option -g history-limit 9000

# rename session
bind -T prefix . command-prompt -I "#S" "rename-session -- '%%'"

# Enable mouse mode (tmux 2.1 and above)
set-option -g mouse on

# Normal behavior for scrolling the mouse
bind -T copy-mode-vi WheelUpPane select-pane \; send-keys -X -N 5 scroll-up
bind -T copy-mode-vi WheelDownPane select-pane \; send-keys -X -N 5 scroll-down
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= \"#{pane_in_mode}\" \"send-keys -M\" \"copy-mode -et=\""
# try to make the following work
# bind -n DoubleClick1Pane select-pane -t = \; if-shell -F "#{||:#{pane_in_mode},#{mouse_any_flag}}" "send -M" "copy-mode -H ; send -X select-word ; run -d0.3 ; send -X copy-pipe-and-cancel"
# bind -n TripleClick1Pane select-pane -t = \; if-shell -F "#{||:#{pane_in_mode},#{mouse_any_flag}}" "send -M" "copy-mode -H ; send -X select-line ; run -d0.3 ; send -X copy-pipe-and-cancel"

# remap prefix from 'C-b' to 'C-a'
set-option -g prefix C-a
bind C-a send-prefix

# remap new window to t
bind -n C-t new-window

# split panes using | and -
bind -n C-e split-window -h
bind -n C-o split-window -v

# remap next/previous window
bind -n S-PPage previous-window
bind -n S-NPage next-window

# remap toggle pane zoom
bind -n C-x resize-pane -Z

# remap keys to resize panes
bind -n S-Down resize-pane -D
bind -n S-Up resize-pane -U
bind -n S-Left resize-pane -L
bind -n S-Right resize-pane -R

# switch panes using arrow without prefix
bind Down select-pane -D
bind Up select-pane -U
bind Left select-pane -L
bind Right select-pane -R

# remap copy/past behavior
setw -g mode-keys vi
set -sg escape-time 0
bind P paste-buffer
bind Escape copy-mode
bind -T copy-mode-vi Escape send-keys -X cancel
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe "xclip -sel clip -i"
bind -T copy-mode-vi r send-keys -X rectangle-toggle
bind -T copy-mode-vi Home send-keys -X start-of-line
bind -T copy-mode-vi End send-keys -X end-of-line
bind -T copy-mode-vi C-Left send-keys -X previous-word
bind -T copy-mode-vi C-Right send-keys -X next-word
